<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Charts</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/chart.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="chart">
        <h1>Inside Your Body üëÄ</h1>
        <canvas id="firstChart"></canvas>
        <canvas id="secondChart"></canvas>

    </div>



    <!--chart.js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js"></script>
    <!--d3-->
    <script src="https://d3js.org/d3.v5.min.js"></script>
<!--     JavaScript -->
    <script>
    const ctx_kcal = document.getElementById('firstChart').getContext('2d');
    const ctx = document.getElementById('secondChart').getContext('2d');

    let delayed;

    const label = ["ÏóêÎÑàÏßÄ"]
    const labels = [
    "Îã®Î∞±Ïßà",
    "ÏßÄÎ∞©",
    "ÌÉÑÏàòÌôîÎ¨º",
    "Îãπ",
    "ÏπºÏäò",
    "Ïù∏",
    "Ï≤†",
    "ÎÇòÌä∏Î•®",
    "ÏπºÎ•®",
    "ÎπÑÌÉÄÎØºA",
    "ÎπÑÌÉÄÎØºB1",
    "ÎπÑÌÉÄÎØºB2",
    "ÎÇòÏù¥ÏïÑÏã†",
    "ÎπÑÌÉÄÎØºC",
    "ÏóΩÏÇ∞"
    ]

    // Ïù¥ Îç∞Ïù¥ÌÑ∞Î•º ÏÑúÎ≤ÑÏóêÏÑú Ïñ¥ÎñªÍ≤å Î∞õÏïÑÏò¨ Í≤ÉÏù∏Í∞Ä?
    let input_data_kcal = {{ kcal }};
    let input_data = {{ nutrients }};

    // Gradient Fill design
    let gradient = ctx.createLinearGradient(400,0,0,0);
    gradient.addColorStop(0, '#d88771');
    gradient.addColorStop(1, '#f6d365');


    // data
    const data_kcal = {
            labels: label,
            datasets: [
            {
            data: input_data_kcal,
            fill: true,
            backgroundColor: gradient,
            borderColor: "#fff",
            // pointBackgroundColor: "rgb(189,195,199,0.4)",
            },
            ],
    };
    const data = {
            labels: labels,
            datasets: [
            {
            data: input_data,
            fill: true,
            backgroundColor: gradient,
            borderColor: "#fff",
            // pointBackgroundColor: "rgb(189,195,199,0.4)",
            },
            ],
    };

    // firstChart
    const config_kcal = {
            type: 'bar',
            data: data_kcal,
            options: {
            indexAxis: 'y',
            elements: {
            bar: {
            borderWidth: 2,
            }
            },
            responsive: true,
            plugins: {
            // legend: {
            //     position: 'right',
            // },
            legend: false,
            title: {
            display: true,
            // text: 'Inside Your Body'
            }
            }
            }
    };

    // secondChart
    const config = {
            type: 'bar',
            data: data,
            options: {
            indexAxis: 'y',
            elements: {
            bar: {
            borderWidth: 2,
            }
            },
            responsive: true,
            plugins: {
            // legend: {
            //     position: 'right',
            // },
            legend: false,
            title: {
            display: true,
            // text: 'Inside Your Body'
            }
            },
            // animation: {
            //     onComplete: () => {
            //         delayed = true;
            //     },
            // delay: (context) => {
            //     let delay = 0;
            //     if (context.type == "data" && context.mode == "default" && !delayed) {
            //         delay = context.dataIndex * 300 + context.datasetIndex * 100;
            //     }
            //     return delay;
            // }
            // },


            // 100 ÌçºÏÑºÌä∏ Í∏∞Ï§Ä ÏñºÎßàÎÇò Ï∂©Ï°±.
            // scales: {
            //     x: {
            //
            // },
            },
    };

    const firstChart = new Chart(ctx_kcal, config_kcal);
    const secondChart = new Chart(ctx, config);



    </script>
</body>
</html>
